<div class="game_area">
  <div>
    <div class="enviorment_container">
      <div class="title"> ENVIORMENTS</div>
      <button (click)="exportPDF()" class="ll_button">Export PDF</button>
      <button (click)="toHome()" class="ll_button"> Back </button>   
    </div>
  <div class="size_container">
      <div class="size_label">width: {{widthEnviorment}}</div>
      <input id="height" type="range" min="0" max="1000" [(ngModel)]="widthEnviorment"  />
      <div class="size_label">height: {{heightEnviorment}}</div>
      <input id="vy" type="range" min="0" max="1000" [(ngModel)]="heightEnviorment"  />        
      
      
        <div class="rows_label">Rows: {{rows}}</div>
        <input id="rows" type="range" min="1" max="5" [(ngModel)]="rows" /> 

      <div></div>
      <div></div>

        <div class="rows_label">Page: {{page+1}}</div>
        <button (click)="plus1()" class="ll_button">plus 1</button>
        <button (click)="minus1()" class="ll_button">minus 1</button>

<div></div>
  </div>
    <div class="card_list" id="pdf-content">
      @if(loading) {
        <svg class="svg-image">
          @for(l of lines();track l){
            <line class="line"  [attr.x1]="widthEnviorment*l/populationLimit" [attr.x2]="widthEnviorment*l/populationLimit" [attr.y1]="0" 
            [attr.y2]="heightEnviorment"
            />  
            <circle class="circle" r="15" [attr.cx]="widthEnviorment*(l-1)/populationLimit+15" [attr.cy]="heightEnviorment-15"  />
            <text class="line-number" [attr.x]="widthEnviorment*(l-1)/populationLimit+10" [attr.y]="heightEnviorment-10">{{l}}</text>
          }
          </svg>



        <div class="loading"></div>
      } @else {
        @for(cardUrl of displayList();track cardUrl) {
          <div class="card_container" >
            <div class="card-info"> 
              @if(cardUrl.temperature < 0) {<i class="fa fa-snowflake"></i> }  
              @if(cardUrl.temperature === -2) {<i class="fa fa-snowflake"></i> }  
              @if(cardUrl.temperature > 0) {<i class="fa fa-sun"></i> }  
              @if(cardUrl.temperature === 2) {<i class="fa fa-sun"></i> }  
            </div>
            <svg class="svg-image">
            <image class="card-image" [attr.href]="cardUrl.url" x="0" y="0" width="100%" height="100%" preserveAspectRatio="xMidYMid slice"  />

            @for(l of lines();track l){
              <line class="line"  [attr.x1]="widthEnviorment*l/populationLimit" [attr.x2]="widthEnviorment*l/populationLimit" [attr.y1]="0" 
              [attr.y2]="heightEnviorment"
              />  
              <circle class="circle" r="15" [attr.cx]="widthEnviorment*(l-1)/populationLimit+15" [attr.cy]="heightEnviorment-15"  />
              <text class="line-number" [attr.x]="widthEnviorment*(l-1)/populationLimit+10" [attr.y]="heightEnviorment-10">{{l}}</text>
            }
            </svg>
          <div>
          </div> 
          </div>
          }
      }
    </div>
  </div>
</div>